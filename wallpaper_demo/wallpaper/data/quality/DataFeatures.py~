from sciscrapy.features import FeatureExtractor

class DataFeatures(FeatureExtractor):
    
    def __init__(self):
        super(DataFeatures, self).__init__()
    
    
    def dimension_features(self, datum):
        x = datum["x_resolution"]
        y = datum["y_resolution"]
        features = {"x_dim" : x, "y_dim": y, "combined": x*y}
        return features
    
    def descriptor_features(self, datum):
        features = {'named' : 0.0}
        for descriptor in datum['descriptors']:
            features["tag({0})".format(descriptor.encode('utf-8'))] = 1.0
            if descriptor.encode('utf-8')[0].isupper(): features['named'] = 1.0
        return features
    
    


